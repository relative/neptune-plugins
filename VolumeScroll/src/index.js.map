{
  "version": 3,
  "sources": ["../../../plugins/VolumeScroll/src/index.ts", "../../../plugins/VolumeScroll/src/constants.ts"],
  "sourcesContent": ["import { actions, intercept, store } from '@neptune'\n\nimport { ELEMENT, VOLUME_INTERVAL, VOLUME_INTERVAL_SHIFT } from './constants'\n\nconst isVolumeButton = (i: Element) => i.nodeName === 'BUTTON' && i.getAttribute('data-test') === 'volume',\n  isVolumeSlider = (i: Element) =>\n    i.nodeName === 'DIV' && i.id === 'nativeRange' && i.nextElementSibling && isVolumeButton(i.nextElementSibling),\n  clamp = (val: number) => Math.min(Math.max(0, val), 100)\n\nfunction wheelListener(e: WheelEvent) {\n  const path = (e as any).path as Array<Element>\n  const hasVolumeElement = path.find(i => i && (isVolumeButton(i) || isVolumeSlider(i)))\n  if (!hasVolumeElement) return\n\n  const {\n    playbackControls: { volume },\n  } = store.getState()\n\n  const volumeInterval = e.shiftKey ? VOLUME_INTERVAL_SHIFT : VOLUME_INTERVAL\n  const volumeMult = e.deltaY > 0 ? -1 : 1\n  const newVolume = volume + volumeInterval * volumeMult\n  actions.playbackControls.setVolume({\n    volume: clamp(newVolume),\n  })\n}\n\nELEMENT.addEventListener('wheel', wheelListener)\n\nexport function onUnload() {\n  ELEMENT.removeEventListener('wheel', wheelListener)\n}\n", "export const ELEMENT = document.body\r\nexport const VOLUME_INTERVAL = 1\r\nexport const VOLUME_INTERVAL_SHIFT = 4\r\n"],
  "mappings": "AAAA,OAAS,WAAAA,EAAoB,SAAAC,MAAa,WCAnC,IAAMC,EAAU,SAAS,KACnBC,EAAkB,EAClBC,EAAwB,EDErC,IAAMC,EAAkBC,GAAeA,EAAE,WAAa,UAAYA,EAAE,aAAa,WAAW,IAAM,SAChGC,EAAkBD,GAChBA,EAAE,WAAa,OAASA,EAAE,KAAO,eAAiBA,EAAE,oBAAsBD,EAAeC,EAAE,kBAAkB,EAC/GE,EAASC,GAAgB,KAAK,IAAI,KAAK,IAAI,EAAGA,CAAG,EAAG,GAAG,EAEzD,SAASC,EAAc,EAAe,CAGpC,GAAI,CAFU,EAAU,KACM,KAAKJ,GAAKA,IAAMD,EAAeC,CAAC,GAAKC,EAAeD,CAAC,EAAE,EAC9D,OAEvB,GAAM,CACJ,iBAAkB,CAAE,OAAAK,CAAO,CAC7B,EAAIC,EAAM,SAAS,EAEbC,EAAiB,EAAE,SAAWC,EAAwBC,EACtDC,EAAa,EAAE,OAAS,EAAI,GAAK,EACjCC,EAAYN,EAASE,EAAiBG,EAC5CE,EAAQ,iBAAiB,UAAU,CACjC,OAAQV,EAAMS,CAAS,CACzB,CAAC,CACH,CAEAE,EAAQ,iBAAiB,QAAST,CAAa,EAExC,SAASU,GAAW,CACzBD,EAAQ,oBAAoB,QAAST,CAAa,CACpD",
  "names": ["actions", "store", "ELEMENT", "VOLUME_INTERVAL", "VOLUME_INTERVAL_SHIFT", "isVolumeButton", "i", "isVolumeSlider", "clamp", "val", "wheelListener", "volume", "store", "volumeInterval", "VOLUME_INTERVAL_SHIFT", "VOLUME_INTERVAL", "volumeMult", "newVolume", "actions", "ELEMENT", "onUnload"]
}
